import{d as I,a as p,o as n,f as t,C as G,s as v,e as s,c as de,j as E,H as Ve,k as Le,g as x,t as c,x as ue,q as C,G as H,I as ve,i as $,v as Z,J as ae,w as g,b as y,h as Pe,p as B,D as Y,F as Oe,r as Ie,A as he}from"./app-fqnjF0PA.js";import{_ as le}from"./index-Cu1aQQ5f.js";import{E as me,_ as Ne}from"./index-BQIdrIrH.js";import{c as J}from"./useAssets-CaeVs28n.js";import{a as Qe,b as He,c as ze,d as ie,_ as Ge}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxlKFDdo.js";import{q as N,a as R}from"./index-DK8P9mNh.js";import{S as O}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{E as ee}from"./eye-BYempotu.js";import{P as Re}from"./plus-B0QLOJ9t.js";import{c as W}from"./createLucideIcon-C8Z1QASB.js";import{X as Ke}from"./x-DvKoq_j2.js";import{L as Xe}from"./loader-circle-sJOeHZCO.js";import{S as Ye}from"./square-pen-Q4nJ-lMe.js";import{T as Je}from"./trash-2-BFu6xF01.js";import"./useForwardExpose-CNvgZUMu.js";import"./VisuallyHidden-C3fKVd4-.js";import"./RovingFocusGroup-DHuPoEBD.js";import"./useArrowNavigation-C6Y-ieo6.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=W("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=W("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=W("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=W("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=W("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),rt={class:"relative w-full overflow-auto"},ot={class:"w-full caption-bottom text-sm"},at=I({__name:"Table",props:{class:{}},setup(e){return(o,m)=>(n(),p("div",rt,[t("table",ot,[G(o.$slots,"default")])]))}}),lt=I({__name:"TableBody",props:{class:{}},setup(e){const o=e;return(m,k)=>(n(),p("tbody",{class:v(s(J)("",o.class))},[G(m.$slots,"default")],2))}}),Q=I({__name:"TableCell",props:{class:{}},setup(e){const o=e;return(m,k)=>(n(),p("td",{class:v(s(J)("p-4 align-middle [&:has([role=checkbox])]:pr-0",o.class))},[G(m.$slots,"default")],2))}}),z=I({__name:"TableHead",props:{class:{}},setup(e){const o=e;return(m,k)=>(n(),p("th",{class:v(s(J)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",o.class))},[G(m.$slots,"default")],2))}}),it=I({__name:"TableHeader",props:{class:{}},setup(e){const o=e;return(m,k)=>(n(),p("thead",{class:v(s(J)("",o.class))},[G(m.$slots,"default")],2))}}),ne=I({__name:"TableRow",props:{class:{}},setup(e){const o=e;return(m,k)=>(n(),p("tr",{class:v(s(J)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",o.class))},[G(m.$slots,"default")],2))}}),A=e=>({url:A.url(e),method:"get"});A.definition={methods:["get","head"],url:"/users"};A.url=e=>A.definition.url+N(e);A.get=e=>({url:A.url(e),method:"get"});A.head=e=>({url:A.url(e),method:"head"});const pe=e=>({action:A.url(e),method:"get"});pe.get=e=>({action:A.url(e),method:"get"});pe.head=e=>({action:A.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});A.form=pe;const M=e=>({url:M.url(e),method:"get"});M.definition={methods:["get","head"],url:"/users/create"};M.url=e=>M.definition.url+N(e);M.get=e=>({url:M.url(e),method:"get"});M.head=e=>({url:M.url(e),method:"head"});const fe=e=>({action:M.url(e),method:"get"});fe.get=e=>({action:M.url(e),method:"get"});fe.head=e=>({action:M.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});M.form=fe;const q=e=>({url:q.url(e),method:"post"});q.definition={methods:["post"],url:"/users"};q.url=e=>q.definition.url+N(e);q.post=e=>({url:q.url(e),method:"post"});const ke=e=>({action:q.url(e),method:"post"});ke.post=e=>({action:q.url(e),method:"post"});q.form=ke;const T=(e,o)=>({url:T.url(e,o),method:"get"});T.definition={methods:["get","head"],url:"/users/{user}"};T.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return T.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};T.get=(e,o)=>({url:T.url(e,o),method:"get"});T.head=(e,o)=>({url:T.url(e,o),method:"head"});const ye=(e,o)=>({action:T.url(e,o),method:"get"});ye.get=(e,o)=>({action:T.url(e,o),method:"get"});ye.head=(e,o)=>({action:T.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...o?.query??o?.mergeQuery??{}}}),method:"get"});T.form=ye;const D=(e,o)=>({url:D.url(e,o),method:"get"});D.definition={methods:["get","head"],url:"/users/{user}/edit"};D.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return D.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};D.get=(e,o)=>({url:D.url(e,o),method:"get"});D.head=(e,o)=>({url:D.url(e,o),method:"head"});const ge=(e,o)=>({action:D.url(e,o),method:"get"});ge.get=(e,o)=>({action:D.url(e,o),method:"get"});ge.head=(e,o)=>({action:D.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...o?.query??o?.mergeQuery??{}}}),method:"get"});D.form=ge;const F=(e,o)=>({url:F.url(e,o),method:"post"});F.definition={methods:["post"],url:"/users/{user}"};F.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return F.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};F.post=(e,o)=>({url:F.url(e,o),method:"post"});const we=(e,o)=>({action:F.url(e,o),method:"post"});we.post=(e,o)=>({action:F.url(e,o),method:"post"});F.form=we;const V=(e,o)=>({url:V.url(e,o),method:"delete"});V.definition={methods:["delete"],url:"/users/{user}"};V.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return V.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};V.delete=(e,o)=>({url:V.url(e,o),method:"delete"});const $e=(e,o)=>({action:V.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...o?.query??o?.mergeQuery??{}}}),method:"post"});$e.delete=(e,o)=>({action:V.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...o?.query??o?.mergeQuery??{}}}),method:"post"});V.form=$e;const L=(e,o)=>({url:L.url(e,o),method:"post"});L.definition={methods:["post"],url:"/users/{user}/toggle-status"};L.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return L.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};L.post=(e,o)=>({url:L.url(e,o),method:"post"});const Ce=(e,o)=>({action:L.url(e,o),method:"post"});Ce.post=(e,o)=>({action:L.url(e,o),method:"post"});L.form=Ce;const P=(e,o)=>({url:P.url(e,o),method:"post"});P.definition={methods:["post"],url:"/users/{user}/update-subscription"};P.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=R(e);const m={user:typeof e.user=="object"?e.user.id:e.user};return P.definition.url.replace("{user}",m.user.toString()).replace(/\/+$/,"")+N(o)};P.post=(e,o)=>({url:P.url(e,o),method:"post"});const Ue=(e,o)=>({action:P.url(e,o),method:"post"});Ue.post=(e,o)=>({action:P.url(e,o),method:"post"});P.form=Ue;const ce={index:Object.assign(A,A),create:Object.assign(M,M),store:Object.assign(q,q),show:Object.assign(T,T),edit:Object.assign(D,D),update:Object.assign(F,F),destroy:Object.assign(V,V),toggleStatus:Object.assign(L,L),updateSubscription:Object.assign(P,P)},nt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},dt={class:"p-6"},ut={class:"flex items-center justify-between mb-6"},mt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pt={class:"space-y-2"},ft={key:0,class:"text-sm text-red-500"},yt={class:"space-y-2"},gt={key:0,class:"text-sm text-red-500"},bt={class:"space-y-2"},xt={key:0,class:"text-sm text-red-500"},_t={class:"space-y-2"},vt={key:0,class:"text-sm text-red-500"},ht={class:"space-y-2"},kt={class:"relative"},wt=["type","required"],$t={key:0,class:"text-sm text-red-500"},Ct={class:"space-y-2"},Ut={for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},St={class:"relative"},Bt=["type","required"],At={key:0,class:"text-sm text-red-500"},Mt={class:"space-y-2"},Tt={key:0,class:"text-sm text-red-500"},Dt={class:"space-y-2"},Et={key:0,class:"text-sm text-red-500"},jt={class:"space-y-2"},qt={key:0,class:"text-sm text-red-500"},Ft={class:"space-y-2"},Vt={class:"space-y-2"},Lt={class:"flex items-center space-x-2 cursor-pointer"},Pt={class:"flex items-center space-x-2 cursor-pointer"},Ot={class:"flex items-center space-x-2 cursor-pointer"},It={key:0,class:"text-sm text-red-500"},Nt={class:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-600"},Qt=["disabled"],Ht=I({__name:"UserFormModal",props:{isOpen:{type:Boolean},user:{}},emits:["close","success"],setup(e,{emit:o}){const m=e,k=o,h=de(()=>!!m.user),U=E(!1),w=E(!1),a=Ve({name:"",username:"",email:"",mobile:"",password:"",password_confirmation:"",subscription_start_date:"",subscription_end_date:"",role:"admin",template_limit:-1,template_access:"both"}),f=()=>{a.reset(),a.clearErrors(),U.value=!1,w.value=!1,k("close")},d=()=>{h.value&&m.user?a.post(ce.update.url(m.user.id),{onSuccess:()=>{O.fire({title:"Success!",text:"User updated successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0}),f(),k("success")},onError:()=>{O.fire({title:"Error!",text:"Failed to update user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}}):a.post(ce.store.url(),{onSuccess:()=>{O.fire({title:"Success!",text:"User created successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0}),f(),k("success")},onError:()=>{O.fire({title:"Error!",text:"Failed to create user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})};return Le(()=>m.isOpen,S=>{S&&(m.user?(a.name=m.user.name,a.username=m.user.username||"",a.email=m.user.email,a.mobile=m.user.mobile||"",a.password=m.user.display_password||"",a.password_confirmation=m.user.display_password||"",a.subscription_start_date=m.user.subscription_start_date?new Date(m.user.subscription_start_date).toISOString().split("T")[0]:"",a.subscription_end_date=m.user.subscription_end_date?new Date(m.user.subscription_end_date).toISOString().split("T")[0]:"",a.role="admin",a.template_limit=m.user.template_limit||-1,a.template_access=m.user.template_access||"both"):(a.reset(),a.role="admin",a.template_limit=-1),a.clearErrors())}),(S,i)=>S.isOpen?(n(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"rgba(0, 0, 0, 0.4)"},onClick:ue(f,["self"])},[t("div",nt,[t("div",dt,[t("div",ut,[t("h2",mt,c(h.value?"Edit User":"Create New User"),1),t("button",{onClick:f,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...i[14]||(i[14]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:ue(d,["prevent"]),class:"space-y-6"},[t("div",ct,[t("div",pt,[i[15]||(i[15]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name * ",-1)),C(t("input",{id:"name","onUpdate:modelValue":i[0]||(i[0]=b=>s(a).name=b),type:"text",required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.name}])},null,2),[[H,s(a).name]]),s(a).errors.name?(n(),p("p",ft,c(s(a).errors.name),1)):x("",!0)]),t("div",yt,[i[16]||(i[16]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Username * ",-1)),C(t("input",{id:"username","onUpdate:modelValue":i[1]||(i[1]=b=>s(a).username=b),type:"text",required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.username}])},null,2),[[H,s(a).username]]),s(a).errors.username?(n(),p("p",gt,c(s(a).errors.username),1)):x("",!0)]),t("div",bt,[i[17]||(i[17]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email * ",-1)),C(t("input",{id:"email","onUpdate:modelValue":i[2]||(i[2]=b=>s(a).email=b),type:"email",required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.email}])},null,2),[[H,s(a).email]]),s(a).errors.email?(n(),p("p",xt,c(s(a).errors.email),1)):x("",!0)]),t("div",_t,[i[18]||(i[18]=t("label",{for:"mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mobile ",-1)),C(t("input",{id:"mobile","onUpdate:modelValue":i[3]||(i[3]=b=>s(a).mobile=b),type:"tel",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.mobile}])},null,2),[[H,s(a).mobile]]),s(a).errors.mobile?(n(),p("p",vt,c(s(a).errors.mobile),1)):x("",!0)]),t("div",ht,[i[19]||(i[19]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Password ",-1)),t("div",kt,[C(t("input",{id:"password","onUpdate:modelValue":i[4]||(i[4]=b=>s(a).password=b),type:U.value?"text":"password",required:!h.value,class:v(["w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.password}])},null,10,wt),[[ve,s(a).password]]),t("button",{type:"button",onClick:i[5]||(i[5]=b=>U.value=!U.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[U.value?(n(),$(s(me),{key:1,class:"h-4 w-4"})):(n(),$(s(ee),{key:0,class:"h-4 w-4"}))])]),s(a).errors.password?(n(),p("p",$t,c(s(a).errors.password),1)):x("",!0)]),t("div",Ct,[t("label",Ut," Confirm Password "+c(h.value?"":"*"),1),t("div",St,[C(t("input",{id:"password_confirmation","onUpdate:modelValue":i[6]||(i[6]=b=>s(a).password_confirmation=b),type:w.value?"text":"password",required:!h.value,class:v(["w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.password_confirmation}])},null,10,Bt),[[ve,s(a).password_confirmation]]),t("button",{type:"button",onClick:i[7]||(i[7]=b=>w.value=!w.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[w.value?(n(),$(s(me),{key:1,class:"h-4 w-4"})):(n(),$(s(ee),{key:0,class:"h-4 w-4"}))])]),s(a).errors.password_confirmation?(n(),p("p",At,c(s(a).errors.password_confirmation),1)):x("",!0)]),t("div",Mt,[i[20]||(i[20]=t("label",{for:"subscription_start_date",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Subscription Start Date * ",-1)),C(t("input",{id:"subscription_start_date","onUpdate:modelValue":i[8]||(i[8]=b=>s(a).subscription_start_date=b),type:"date",required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.subscription_start_date}])},null,2),[[H,s(a).subscription_start_date]]),s(a).errors.subscription_start_date?(n(),p("p",Tt,c(s(a).errors.subscription_start_date),1)):x("",!0)]),t("div",Dt,[i[21]||(i[21]=t("label",{for:"subscription_end_date",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Subscription End Date * ",-1)),C(t("input",{id:"subscription_end_date","onUpdate:modelValue":i[9]||(i[9]=b=>s(a).subscription_end_date=b),type:"date",required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.subscription_end_date}])},null,2),[[H,s(a).subscription_end_date]]),s(a).errors.subscription_end_date?(n(),p("p",Et,c(s(a).errors.subscription_end_date),1)):x("",!0)]),t("div",jt,[i[23]||(i[23]=t("label",{for:"template_limit",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Template Limit * ",-1)),C(t("select",{id:"template_limit","onUpdate:modelValue":i[10]||(i[10]=b=>s(a).template_limit=b),required:"",class:v(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":s(a).errors.template_limit}])},[...i[22]||(i[22]=[t("option",{value:"-1"},"Unlimited",-1),t("option",{value:"5"},"5 Templates (Demo/Trial)",-1),t("option",{value:"10"},"10 Templates (Basic)",-1),t("option",{value:"25"},"25 Templates (Standard)",-1)])],2),[[Z,s(a).template_limit]]),s(a).errors.template_limit?(n(),p("p",qt,c(s(a).errors.template_limit),1)):x("",!0)]),t("div",Ft,[i[27]||(i[27]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Template Access * ",-1)),t("div",Vt,[t("label",Lt,[C(t("input",{type:"radio","onUpdate:modelValue":i[11]||(i[11]=b=>s(a).template_access=b),value:"both",class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[ae,s(a).template_access]]),i[24]||(i[24]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Both (Image Template & PDF Template)",-1))]),t("label",Pt,[C(t("input",{type:"radio","onUpdate:modelValue":i[12]||(i[12]=b=>s(a).template_access=b),value:"image",class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[ae,s(a).template_access]]),i[25]||(i[25]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Image Template Only",-1))]),t("label",Ot,[C(t("input",{type:"radio","onUpdate:modelValue":i[13]||(i[13]=b=>s(a).template_access=b),value:"pdf",class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[ae,s(a).template_access]]),i[26]||(i[26]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"PDF Template Only",-1))])]),s(a).errors.template_access?(n(),p("p",It,c(s(a).errors.template_access),1)):x("",!0)])]),t("div",Nt,[t("button",{type:"button",onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel "),t("button",{type:"submit",disabled:s(a).processing,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},c(s(a).processing?h.value?"Updating...":"Creating...":h.value?"Update User":"Create User"),9,Qt)])],32)])])])):x("",!0)}}),zt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Gt={class:"p-6"},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Kt={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},Xt={class:"space-y-4"},Yt={class:"text-sm text-gray-900 dark:text-white"},Jt={class:"text-sm text-gray-900 dark:text-white"},Wt={class:"text-sm text-gray-900 dark:text-white"},Zt={class:"text-sm text-gray-900 dark:text-white"},es={class:"flex items-center justify-between"},ts={class:"text-sm text-gray-900 dark:text-white font-mono"},ss={class:"mt-1"},rs={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},os={class:"space-y-4"},as={key:0},ls={class:"text-sm text-gray-900 dark:text-white"},is={key:1},ns={class:"text-sm text-gray-900 dark:text-white"},ds={key:2},us={class:"space-y-4"},ms={class:"text-sm text-gray-900 dark:text-white font-mono"},cs={class:"text-sm text-gray-900 dark:text-white"},ps={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},fs=I({__name:"ViewUserModal",props:{isOpen:{type:Boolean},user:{}},emits:["close","edit"],setup(e,{emit:o}){const m=o,k=E(!1),h=()=>{m("close")},U=f=>new Date(f).toLocaleDateString(),w=f=>{if(f===0)return"0 B";const d=1024,S=["B","KB","MB","GB","TB"],i=Math.floor(Math.log(f)/Math.log(d));return parseFloat((f/Math.pow(d,i)).toFixed(2))+" "+S[i]},a=f=>{switch(f){case"super_admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"admin":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"user":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return(f,d)=>f.isOpen&&f.user?(n(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"rgba(0, 0, 0, 0.4)"},onClick:ue(h,["self"])},[t("div",zt,[t("div",Gt,[t("div",{class:"flex items-center justify-between mb-6"},[d[2]||(d[2]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"User Details",-1)),t("button",{onClick:h,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...d[1]||(d[1]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Rt,[t("div",Kt,[d[9]||(d[9]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Basic Information",-1)),t("div",Xt,[t("div",null,[d[3]||(d[3]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Name",-1)),t("p",Yt,c(f.user.name),1)]),t("div",null,[d[4]||(d[4]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),t("p",Jt,c(f.user.email),1)]),t("div",null,[d[5]||(d[5]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Username",-1)),t("p",Wt,c(f.user.username||"Not set"),1)]),t("div",null,[d[6]||(d[6]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Mobile",-1)),t("p",Zt,c(f.user.mobile||"Not set"),1)]),t("div",null,[d[7]||(d[7]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Password",-1)),t("div",es,[t("p",ts,c(k.value?f.user.display_password||"Not set":"••••••••"),1),t("button",{type:"button",onClick:d[0]||(d[0]=S=>k.value=!k.value),class:"ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[k.value?(n(),$(s(me),{key:1,class:"h-4 w-4"})):(n(),$(s(ee),{key:0,class:"h-4 w-4"}))])])]),t("div",null,[d[8]||(d[8]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Role",-1)),t("div",ss,[t("span",{class:v(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a(f.user.role)])},c(f.user.role.replace("_"," ").toUpperCase()),3)])])])]),t("div",rs,[d[15]||(d[15]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Subscription Information",-1)),t("div",os,[f.user.subscription_start_date&&f.user.subscription_end_date?(n(),p("div",as,[d[10]||(d[10]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Start Date",-1)),t("p",ls,c(U(f.user.subscription_start_date)),1)])):x("",!0),f.user.subscription_start_date&&f.user.subscription_end_date?(n(),p("div",is,[d[11]||(d[11]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"End Date",-1)),t("p",ns,c(U(f.user.subscription_end_date)),1)])):x("",!0),!f.user.subscription_start_date||!f.user.subscription_end_date?(n(),p("div",ds,[...d[12]||(d[12]=[t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No subscription information available",-1)])])):x("",!0)]),d[16]||(d[16]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 mt-5"},"Memory Usage",-1)),t("div",us,[t("div",null,[d[13]||(d[13]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Memory Used",-1)),t("p",ms,c(w(f.user.memory_usage||0)),1)]),t("div",null,[d[14]||(d[14]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Templates Created",-1)),t("p",cs,[t("span",ps,c(f.user.templates_count||0)+" templates ",1)])])])])])])])])):x("",!0)}}),ys={class:"space-y-6 p-5"},gs={class:"flex items-center justify-between"},bs={class:"space-y-4"},xs={class:"relative"},_s={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},vs={class:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},hs={class:"flex items-center gap-2"},ks={class:"flex items-center gap-2"},ws={class:"flex items-center gap-2"},$s={class:"rounded-md border"},Cs={class:"flex flex-col items-center gap-2"},Us={class:"text-sm"},Ss={key:0},Bs={key:0},As={key:1},Ms={key:1},Ts={class:"space-y-1"},Ds={class:"font-medium text-gray-900 dark:text-white"},Es={class:"text-sm text-gray-500 dark:text-gray-400 font-normal"},js={class:"text-sm text-gray-600 dark:text-gray-400"},qs={class:"flex items-center gap-3"},Fs=["onClick","disabled","title"],Vs={class:"flex items-center gap-2"},Ls={class:"text-sm"},Ps={key:0,class:"font-medium text-green-600"},Os={key:1,class:"font-medium"},Is={key:2,class:"text-muted-foreground"},Ns={key:0,class:"text-sm"},Qs={class:"flex items-center gap-2"},Hs={key:1,class:"text-muted-foreground"},zs={class:"space-y-1"},Gs={class:"flex items-center justify-between"},Rs={class:"text-sm text-muted-foreground"},Ks={key:0},Xs={class:"ml-2 text-blue-600"},Ys={key:0},Js={key:1},Ws={key:1},br=I({__name:"Index",props:{users:{}},setup(e){const o=e,m=E(!1),k=E(!1),h=E(null),U=E(new Set),w=E(""),a=E(""),f=E(""),d=E(""),S=E(""),i=E("asc"),b=[{title:"User Management",href:"/users"}],te=de(()=>w.value!==""||a.value!==""||d.value!==""||S.value!==""),se=de(()=>{let u=o.users.data;if(d.value.trim()){const r=d.value.toLowerCase().trim();u=u.filter(l=>{const _=l.name?.toLowerCase()||"",j=l.username?.toLowerCase()||"",qe=l.email?.toLowerCase()||"",Fe=l.mobile?.toLowerCase()||"";return _.includes(r)||j.includes(r)||qe.includes(r)||Fe.includes(r)})}if(w.value==="unlimited")u=u.filter(r=>r.template_limit===-1);else if(w.value==="limited")u=u.filter(r=>r.template_limit!==-1);else if(w.value&&["5","10","25"].includes(w.value)){const r=parseInt(w.value);u=u.filter(l=>l.template_limit===r)}return a.value==="active"?u=u.filter(r=>r.is_active):a.value==="inactive"&&(u=u.filter(r=>!r.is_active)),S.value&&u.sort((r,l)=>{let _,j;switch(S.value){case"name":_=r.name?.toLowerCase()||"",j=l.name?.toLowerCase()||"";break;case"email":_=r.email?.toLowerCase()||"",j=l.email?.toLowerCase()||"";break;case"username":_=r.username?.toLowerCase()||"",j=l.username?.toLowerCase()||"";break;case"status":_=r.is_active?1:0,j=l.is_active?1:0;break;case"template_limit":_=r.template_limit,j=l.template_limit;break;case"expiry_date":_=r.subscription_end_date?new Date(r.subscription_end_date).getTime():0,j=l.subscription_end_date?new Date(l.subscription_end_date).getTime():0;break;case"templates_count":_=r.templates_count||0,j=l.templates_count||0;break;case"memory_usage":_=r.memory_usage||0,j=l.memory_usage||0;break;default:return 0}return i.value==="asc"?_>j?1:-1:_<j?1:-1}),u}),be=u=>new Date(u).toLocaleDateString(),Se=u=>{if(u===0)return"0 B";const r=["B","KB","MB","GB","TB"],l=1024,_=Math.floor(Math.log(u)/Math.log(l));return parseFloat((u/Math.pow(l,_)).toFixed(2))+" "+r[_]},re=u=>u.subscription_end_date?new Date(u.subscription_end_date)<new Date:!1,Be=()=>{h.value=null,m.value=!0},Ae=u=>{h.value=u,m.value=!0},Me=u=>{h.value=u,k.value=!0},Te=u=>{O.fire({title:"Are you sure?",text:`You are about to delete ${u.name}. This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(r=>{r.isConfirmed&&he.delete(ce.destroy.url(u.id),{onSuccess:()=>{O.fire({title:"Deleted!",text:"User has been deleted successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})},onError:()=>{O.fire({title:"Error!",text:"Failed to delete user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})})},xe=()=>{m.value=!1,k.value=!1,h.value=null},De=u=>{h.value=u,m.value=!0},Ee=()=>{he.reload()},je=async u=>{U.value.add(u.id);try{const l=await(await fetch(`/users/${u.id}/toggle-status`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();if(l.success)u.is_active=l.is_active,O.fire({title:"Success!",text:l.message,icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0});else throw new Error(l.error||"Failed to toggle user status")}catch(r){O.fire({title:"Error!",text:r instanceof Error?r.message:"Failed to toggle user status",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}finally{U.value.delete(u.id)}},oe=()=>{},_e=()=>{w.value="",a.value="",f.value="",d.value="",S.value="",i.value="asc"},K=u=>{S.value===u?i.value=i.value==="asc"?"desc":"asc":(S.value=u,i.value="asc")},X=u=>S.value!==u?Ze:i.value==="asc"?et:We;return(u,r)=>(n(),$(Ge,{breadcrumbs:b},{default:g(()=>[y(s(Pe),{title:"User Management"}),t("div",ys,[t("div",gs,[r[11]||(r[11]=t("div",null,[t("h1",{class:"text-2xl font-bold tracking-tight"},"User Management"),t("p",{class:"text-muted-foreground"}," Manage users and their roles in the system. ")],-1)),y(s(le),{onClick:Be},{default:g(()=>[y(s(Re),{class:"mr-2 h-4 w-4"}),r[10]||(r[10]=B(" Add User ",-1))]),_:1})]),t("div",bs,[t("div",xs,[t("div",_s,[y(s(st),{class:"h-4 w-4 text-gray-400"})]),C(t("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>d.value=l),type:"text",placeholder:"Search by name, username, email, or mobile...",class:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"},null,512),[[H,d.value]]),d.value?(n(),p("button",{key:0,onClick:r[1]||(r[1]=l=>d.value=""),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[y(s(Ke),{class:"h-4 w-4"})])):x("",!0)]),t("div",vs,[t("div",hs,[r[13]||(r[13]=t("label",{for:"template-limit-filter",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Template Limit: ",-1)),C(t("select",{id:"template-limit-filter","onUpdate:modelValue":r[2]||(r[2]=l=>w.value=l),onChange:oe,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm"},[...r[12]||(r[12]=[t("option",{value:""},"All Users",-1),t("option",{value:"unlimited"},"Unlimited Templates",-1),t("option",{value:"limited"},"Limited Templates",-1),t("option",{value:"5"},"5 Templates",-1),t("option",{value:"10"},"10 Templates",-1),t("option",{value:"25"},"25 Templates",-1)])],544),[[Z,w.value]])]),t("div",ks,[r[15]||(r[15]=t("label",{for:"status-filter",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Status: ",-1)),C(t("select",{id:"status-filter","onUpdate:modelValue":r[3]||(r[3]=l=>a.value=l),onChange:oe,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm"},[...r[14]||(r[14]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[Z,a.value]])]),t("div",ws,[r[17]||(r[17]=t("label",{for:"memory-filter",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Memory Usage: ",-1)),C(t("select",{id:"memory-filter","onUpdate:modelValue":r[4]||(r[4]=l=>f.value=l),onChange:oe,class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm"},[...r[16]||(r[16]=[t("option",{value:""},"All Usage",-1),t("option",{value:"0"},"No Usage (0 B)",-1),t("option",{value:"1mb"},"Low Usage (< 1 MB)",-1),t("option",{value:"10mb"},"Medium Usage (< 10 MB)",-1),t("option",{value:"100mb"},"High Usage (< 100 MB)",-1),t("option",{value:"1gb"},"Very High Usage (< 1 GB)",-1),t("option",{value:"1gb+"},"Extreme Usage (1+ GB)",-1)])],544),[[Z,f.value]])]),te.value?(n(),$(s(le),{key:0,onClick:_e,variant:"outline",size:"sm",class:"ml-auto"},{default:g(()=>[...r[18]||(r[18]=[B(" Clear Filters ",-1)])]),_:1})):x("",!0)])]),t("div",$s,[y(s(at),null,{default:g(()=>[y(s(it),null,{default:g(()=>[y(s(ne),null,{default:g(()=>[y(s(z),null,{default:g(()=>[t("button",{onClick:r[5]||(r[5]=l=>K("name")),class:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400"},[r[19]||(r[19]=B(" User Details ",-1)),(n(),$(Y(X("name")),{class:"h-3 w-3"}))])]),_:1}),y(s(z),null,{default:g(()=>[t("button",{onClick:r[6]||(r[6]=l=>K("status")),class:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400"},[r[20]||(r[20]=B(" Status ",-1)),(n(),$(Y(X("status")),{class:"h-3 w-3"}))])]),_:1}),y(s(z),null,{default:g(()=>[t("button",{onClick:r[7]||(r[7]=l=>K("template_limit")),class:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400"},[r[21]||(r[21]=B(" Template Limit ",-1)),(n(),$(Y(X("template_limit")),{class:"h-3 w-3"}))])]),_:1}),y(s(z),null,{default:g(()=>[t("button",{onClick:r[8]||(r[8]=l=>K("expiry_date")),class:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400"},[r[22]||(r[22]=B(" Subscription ",-1)),(n(),$(Y(X("expiry_date")),{class:"h-3 w-3"}))])]),_:1}),y(s(z),null,{default:g(()=>[t("button",{onClick:r[9]||(r[9]=l=>K("templates_count")),class:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400"},[r[23]||(r[23]=B(" Templates & Memory ",-1)),(n(),$(Y(X("templates_count")),{class:"h-3 w-3"}))])]),_:1}),y(s(z),{class:"w-[50px]"})]),_:1})]),_:1}),y(s(lt),null,{default:g(()=>[se.value.length===0?(n(),$(s(ne),{key:0},{default:g(()=>[y(s(Q),{colspan:"7",class:"text-center py-8 text-muted-foreground"},{default:g(()=>[t("div",Cs,[r[26]||(r[26]=t("div",{class:"text-lg font-medium"},"No users found",-1)),t("div",Us,[te.value?(n(),p("span",Ss,[d.value?(n(),p("span",Bs,' No users match "'+c(d.value)+'" ',1)):(n(),p("span",As," No users match your current filters ")),r[24]||(r[24]=t("br",null,null,-1)),r[25]||(r[25]=B(" Try adjusting your search or ",-1)),t("button",{onClick:_e,class:"text-blue-600 hover:text-blue-800 underline"}," clear all filters ")])):(n(),p("span",Ms,"No users available"))])])]),_:1})]),_:1})):x("",!0),(n(!0),p(Oe,null,Ie(se.value,l=>(n(),$(s(ne),{key:l.id},{default:g(()=>[y(s(Q),null,{default:g(()=>[t("div",Ts,[t("div",Ds,[B(c(l.name)+" ",1),t("span",Es," @"+c(l.username||"No username"),1)]),t("div",js,c(l.email),1)])]),_:2},1024),y(s(Q),null,{default:g(()=>[t("div",qs,[l.role!=="super_admin"?(n(),p("button",{key:0,onClick:_=>je(l),disabled:U.value.has(l.id),title:l.is_active?"Click to deactivate account":"Click to activate account",class:v(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",re(l)?l.is_active?"bg-red-600 focus:ring-red-500":"bg-red-200":l.is_active?"bg-indigo-600 focus:ring-indigo-500":"bg-gray-200 focus:ring-indigo-500",U.value.has(l.id)?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-80"])},[U.value.has(l.id)?(n(),$(s(Xe),{key:1,class:"h-3 w-3 animate-spin text-white mx-auto"})):(n(),p("span",{key:0,class:v(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",l.is_active?"translate-x-6":"translate-x-1"])},null,2))],10,Fs)):x("",!0),t("div",Vs,[t("div",{class:v(["w-2 h-2 rounded-full",re(l)?l.is_active?"bg-red-500":"bg-red-300":l.is_active?"bg-green-500":"bg-gray-400"])},null,2),t("span",{class:v(["text-sm font-medium",re(l)?l.is_active?"text-red-700":"text-red-500":l.is_active?"text-green-700":"text-gray-500"])},c(l.is_active?"Active":"Inactive"),3)])])]),_:2},1024),y(s(Q),null,{default:g(()=>[t("div",Ls,[l.template_limit===-1?(n(),p("div",Ps," Unlimited ")):(n(),p("div",Os,c(l.template_limit)+" templates ",1)),l.template_limit!==-1?(n(),p("div",Is,c(l.templates_count||0)+"/"+c(l.template_limit)+" used ",1)):x("",!0)])]),_:2},1024),y(s(Q),null,{default:g(()=>[l.subscription_start_date&&l.subscription_end_date?(n(),p("div",Ns,[t("div",Qs,[t("span",null,c(be(l.subscription_start_date)),1),r[27]||(r[27]=t("span",{class:"text-gray-400"},"→",-1)),t("span",null,c(be(l.subscription_end_date)),1)])])):(n(),p("span",Hs,"No subscription"))]),_:2},1024),y(s(Q),null,{default:g(()=>[t("div",zs,[t("div",null,[y(s(Ne),{variant:"secondary"},{default:g(()=>[B(c(l.templates_count||0)+" templates | "+c(Se(l.memory_usage??0)),1)]),_:2},1024)])])]),_:2},1024),y(s(Q),null,{default:g(()=>[y(s(Qe),null,{default:g(()=>[y(s(He),{"as-child":""},{default:g(()=>[y(s(le),{variant:"ghost",class:"h-8 w-8 p-0"},{default:g(()=>[y(s(tt),{class:"h-4 w-4"})]),_:1})]),_:1}),y(s(ze),{align:"end"},{default:g(()=>[y(s(ie),{onClick:_=>Me(l)},{default:g(()=>[y(s(ee),{class:"mr-2 h-4 w-4"}),r[28]||(r[28]=B(" View ",-1))]),_:1},8,["onClick"]),y(s(ie),{onClick:_=>Ae(l)},{default:g(()=>[y(s(Ye),{class:"mr-2 h-4 w-4"}),r[29]||(r[29]=B(" Edit ",-1))]),_:1},8,["onClick"]),l.role!=="super_admin"?(n(),$(s(ie),{key:0,onClick:_=>Te(l),class:"text-destructive"},{default:g(()=>[y(s(Je),{class:"mr-2 h-4 w-4"}),r[30]||(r[30]=B(" Delete ",-1))]),_:1},8,["onClick"])):x("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t("div",Gs,[t("div",Rs,[te.value?(n(),p("span",Ks,[B(" Showing "+c(se.value.length)+" of "+c(u.users.total)+" users ",1),t("span",Xs,[d.value?(n(),p("span",Ys,'(search: "'+c(d.value)+'")',1)):(n(),p("span",Js,"(filtered)"))])])):(n(),p("span",Ws," Showing "+c((u.users.current_page-1)*u.users.per_page+1)+" to "+c(Math.min(u.users.current_page*u.users.per_page,u.users.total))+" of "+c(u.users.total)+" results ",1))])])]),y(Ht,{"is-open":m.value,user:h.value,onClose:xe,onSuccess:Ee},null,8,["is-open","user"]),y(fs,{"is-open":k.value,user:h.value,onClose:xe,onEdit:De},null,8,["is-open","user"])]),_:1}))}});export{br as default};
