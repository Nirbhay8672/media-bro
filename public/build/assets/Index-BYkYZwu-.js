import{t as u,_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-2ydWv1XW.js";import{d as E,C as P,a as l,o as i,b as o,e as r,h as z,w as m,f as e,l as x,k as d,F as v,r as M,t as a,y as V,g as _,i as $,m as D}from"./app-UJKdXCNU.js";import{d as N}from"./index-DK8P9mNh.js";import{S as c}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{P as h}from"./plus-BGy2dw44.js";import{S as F}from"./square-pen-DxnZyl3E.js";import{S as I}from"./share-2-DgHrG9D5.js";import{T as A}from"./trash-2-Dg52e_ru.js";import"./useAssets-Cumv0HA6.js";import"./useForwardExpose-P1lAc7p4.js";import"./VisuallyHidden-dhm7LIPP.js";import"./RovingFocusGroup-BLgtptN3.js";import"./x-CIgFLPX8.js";import"./createLucideIcon-5navPibp.js";import"./useArrowNavigation-C6Y-ieo6.js";const H={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},L={class:"flex items-center justify-between"},K={key:0,class:"flex flex-1 items-center justify-center"},O={class:"text-center"},U={class:"mx-auto h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-4"},Y={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},q={class:"relative"},G={class:"h-48 w-full bg-gray-100 dark:bg-gray-700 rounded-t-lg overflow-hidden"},J=["src","alt"],Q={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100"},R={class:"text-center"},W={class:"text-sm text-gray-600"},X={class:"absolute top-3 right-3"},Z={class:"p-4"},ee={class:"mb-3"},te={class:"text-lg font-semibold text-gray-900 dark:text-white mb-1"},se={key:0,class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},re={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4"},oe={class:"flex items-center gap-1"},ae={class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4"},ie={class:"flex items-center gap-1"},ne={class:"flex items-center gap-1"},le={class:"flex gap-2"},de={class:"flex gap-2 mt-2"},ce=["onClick"],ue=["onClick"],Se=E({__name:"Index",props:{templates:{}},setup(k){const w=[{title:"Dashboard",href:N().url},{title:"Templates",href:u.index().url}],g=k,C=n=>{c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&D.delete(u.destroy(n),{onSuccess:()=>{c.fire({title:"Deleted!",text:"Template has been deleted successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})},onError:()=>{c.fire({title:"Error!",text:"Failed to delete template. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})})},B=n=>`/templates/${n}/edit`,T=n=>{const t=`${window.location.origin}/template/${n}`;navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>{b()}).catch(()=>{p(t)}):p(t)},p=n=>{const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?b():y()}catch{y()}finally{document.body.removeChild(t)}},b=()=>{c.fire({title:"Copied!",text:"Share link copied to clipboard!",icon:"success",confirmButtonText:"OK",timer:2e3,timerProgressBar:!0})},y=()=>{c.fire({title:"Error!",text:"Failed to copy link. Please try again.",icon:"error",confirmButtonText:"OK"})};return(n,t)=>{const f=P("Image");return i(),l(v,null,[o(r(z),{title:"Templates"}),o(j,{breadcrumbs:w},{default:m(()=>[e("div",H,[e("div",L,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Templates"),e("p",{class:"text-gray-600 dark:text-gray-400"},"Manage your image templates")],-1)),o(r(x),{href:r(u).create(),class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"},{default:m(()=>[o(r(h),{class:"h-4 w-4"}),t[0]||(t[0]=d(" Create Template ",-1))]),_:1},8,["href"])]),!g.templates||g.templates.length===0?(i(),l("div",K,[e("div",O,[e("div",U,[o(r(h),{class:"h-6 w-6 text-gray-400"})]),t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"No templates yet",-1)),t[4]||(t[4]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"Get started by creating your first template.",-1)),o(r(x),{href:r(u).create(),class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"},{default:m(()=>[o(r(h),{class:"h-4 w-4"}),t[2]||(t[2]=d(" Create Template ",-1))]),_:1},8,["href"])])])):(i(),l("div",Y,[(i(!0),l(v,null,M(g.templates,s=>(i(),l("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow"},[e("div",q,[e("div",G,[s.background_image?(i(),l("img",{key:0,src:s.background_image_url||`/storage/${s.background_image}`,alt:s.name,class:"w-full h-full object-cover"},null,8,J)):(i(),l("div",Q,[e("div",R,[o(f,{class:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e("p",W,a(s.width)+"x"+a(s.height),1)])]))]),e("div",X,[e("span",{class:V([s.is_active?"bg-green-500":"bg-gray-400","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white"])},a(s.is_active?"Active":"Inactive"),3)])]),e("div",Z,[e("div",ee,[e("h3",te,a(s.name),1),s.description?(i(),l("p",se,a(s.description),1)):_("",!0)]),e("div",re,[e("div",oe,[t[5]||(t[5]=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)),e("span",null,a(s.width)+"Ã—"+a(s.height),1)]),e("span",null,a(new Date(s.created_at).toLocaleDateString()),1)]),e("div",ae,[e("div",ie,[t[6]||(t[6]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),e("span",null,a(s.visits_count)+" views",1)]),e("div",ne,[t[7]||(t[7]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("span",null,a(s.downloads_count)+" downloads",1)])]),e("div",le,[s.id?(i(),$(r(x),{key:0,href:B(s.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},{default:m(()=>[o(r(F),{class:"h-4 w-4"}),t[8]||(t[8]=d(" Edit ",-1))]),_:1},8,["href"])):_("",!0)]),e("div",de,[e("button",{onClick:S=>T(s.share_token),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900 rounded-lg hover:bg-green-200 dark:hover:bg-green-800 transition-colors"},[o(r(I),{class:"h-4 w-4"}),t[9]||(t[9]=d(" Share ",-1))],8,ce),e("button",{onClick:S=>C(s.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors"},[o(r(A),{class:"h-4 w-4"}),t[10]||(t[10]=d(" Delete ",-1))],8,ue)])])]))),128))]))])]),_:1})],64)}}});export{Se as default};
