import{d as A,c as p,o as c,b as t,v as V,y as x,u as r,g as oe,G as ae,A as de,j as _,t as u,x as H,D as j,E as D,p as N,m as I,w as m,a as l,h as le,e as E,F as ne,r as ie,k as W}from"./app-BUUZdaTh.js";import{_ as X}from"./index-CA8CKVC_.js";import{_ as ue}from"./index-CY8IaBE5.js";import{c as P}from"./Primitive-CJM0qE_Z.js";import{a as me,b as ce,c as pe,d as L,_ as fe}from"./AppLayout.vue_vue_type_script_setup_true_lang-CEVxyUDE.js";import{q as M,a as O}from"./index-4Ns3tNZl.js";import{S as q}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{P as ye}from"./plus-C8N9uVoe.js";import{c as be}from"./createLucideIcon-CRscE8aC.js";import{E as ge}from"./eye-ZYcLso6A.js";import{S as _e}from"./square-pen-DaFVTSTA.js";import{T as xe}from"./trash-2-DqAkoQYo.js";import"./useForwardExpose-B9THNlPJ.js";import"./VisuallyHidden-DYUT9vgg.js";import"./RovingFocusGroup-DmhqFvHP.js";import"./image-B0vCQ2bO.js";import"./useArrowNavigation-C6Y-ieo6.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=be("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ke={class:"relative w-full overflow-auto"},we={class:"w-full caption-bottom text-sm"},ve=A({__name:"Table",props:{class:{}},setup(e){return(s,a)=>(c(),p("div",ke,[t("table",we,[V(s.$slots,"default")])]))}}),$e=A({__name:"TableBody",props:{class:{}},setup(e){const s=e;return(a,y)=>(c(),p("tbody",{class:x(r(P)("",s.class))},[V(a.$slots,"default")],2))}}),T=A({__name:"TableCell",props:{class:{}},setup(e){const s=e;return(a,y)=>(c(),p("td",{class:x(r(P)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s.class))},[V(a.$slots,"default")],2))}}),Q=A({__name:"TableHead",props:{class:{}},setup(e){const s=e;return(a,y)=>(c(),p("th",{class:x(r(P)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s.class))},[V(a.$slots,"default")],2))}}),Ce=A({__name:"TableHeader",props:{class:{}},setup(e){const s=e;return(a,y)=>(c(),p("thead",{class:x(r(P)("",s.class))},[V(a.$slots,"default")],2))}}),Z=A({__name:"TableRow",props:{class:{}},setup(e){const s=e;return(a,y)=>(c(),p("tr",{class:x(r(P)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s.class))},[V(a.$slots,"default")],2))}}),h=e=>({url:h.url(e),method:"get"});h.definition={methods:["get","head"],url:"/users"};h.url=e=>h.definition.url+M(e);h.get=e=>({url:h.url(e),method:"get"});h.head=e=>({url:h.url(e),method:"head"});const R=e=>({action:h.url(e),method:"get"});R.get=e=>({action:h.url(e),method:"get"});R.head=e=>({action:h.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});h.form=R;const k=e=>({url:k.url(e),method:"get"});k.definition={methods:["get","head"],url:"/users/create"};k.url=e=>k.definition.url+M(e);k.get=e=>({url:k.url(e),method:"get"});k.head=e=>({url:k.url(e),method:"head"});const Y=e=>({action:k.url(e),method:"get"});Y.get=e=>({action:k.url(e),method:"get"});Y.head=e=>({action:k.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});k.form=Y;const U=e=>({url:U.url(e),method:"post"});U.definition={methods:["post"],url:"/users"};U.url=e=>U.definition.url+M(e);U.post=e=>({url:U.url(e),method:"post"});const ee=e=>({action:U.url(e),method:"post"});ee.post=e=>({action:U.url(e),method:"post"});U.form=ee;const w=(e,s)=>({url:w.url(e,s),method:"get"});w.definition={methods:["get","head"],url:"/users/{user}"};w.url=(e,s)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=O(e);const a={user:typeof e.user=="object"?e.user.id:e.user};return w.definition.url.replace("{user}",a.user.toString()).replace(/\/+$/,"")+M(s)};w.get=(e,s)=>({url:w.url(e,s),method:"get"});w.head=(e,s)=>({url:w.url(e,s),method:"head"});const G=(e,s)=>({action:w.url(e,s),method:"get"});G.get=(e,s)=>({action:w.url(e,s),method:"get"});G.head=(e,s)=>({action:w.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});w.form=G;const v=(e,s)=>({url:v.url(e,s),method:"get"});v.definition={methods:["get","head"],url:"/users/{user}/edit"};v.url=(e,s)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=O(e);const a={user:typeof e.user=="object"?e.user.id:e.user};return v.definition.url.replace("{user}",a.user.toString()).replace(/\/+$/,"")+M(s)};v.get=(e,s)=>({url:v.url(e,s),method:"get"});v.head=(e,s)=>({url:v.url(e,s),method:"head"});const J=(e,s)=>({action:v.url(e,s),method:"get"});J.get=(e,s)=>({action:v.url(e,s),method:"get"});J.head=(e,s)=>({action:v.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});v.form=J;const S=(e,s)=>({url:S.url(e,s),method:"post"});S.definition={methods:["post"],url:"/users/{user}"};S.url=(e,s)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=O(e);const a={user:typeof e.user=="object"?e.user.id:e.user};return S.definition.url.replace("{user}",a.user.toString()).replace(/\/+$/,"")+M(s)};S.post=(e,s)=>({url:S.url(e,s),method:"post"});const te=(e,s)=>({action:S.url(e,s),method:"post"});te.post=(e,s)=>({action:S.url(e,s),method:"post"});S.form=te;const B=(e,s)=>({url:B.url(e,s),method:"delete"});B.definition={methods:["delete"],url:"/users/{user}"};B.url=(e,s)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=O(e);const a={user:typeof e.user=="object"?e.user.id:e.user};return B.definition.url.replace("{user}",a.user.toString()).replace(/\/+$/,"")+M(s)};B.delete=(e,s)=>({url:B.url(e,s),method:"delete"});const re=(e,s)=>({action:B.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});re.delete=(e,s)=>({action:B.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});B.form=re;const z={index:Object.assign(h,h),create:Object.assign(k,k),store:Object.assign(U,U),show:Object.assign(w,w),edit:Object.assign(v,v),update:Object.assign(S,S),destroy:Object.assign(B,B)},Ee={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Ue={class:"p-6"},Se={class:"flex items-center justify-between mb-6"},Be={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},je={class:"space-y-2"},De={key:0,class:"text-sm text-red-500"},qe={class:"space-y-2"},Me={key:0,class:"text-sm text-red-500"},Te={class:"space-y-2"},Qe={key:0,class:"text-sm text-red-500"},Ve={class:"space-y-2"},Fe={key:0,class:"text-sm text-red-500"},Pe={class:"space-y-2"},Oe={for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ne=["required"],Ie={key:0,class:"text-sm text-red-500"},Le={class:"space-y-2"},He={for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ze=["required"],Re={key:0,class:"text-sm text-red-500"},Ye={class:"space-y-2"},Ge={key:0,class:"text-sm text-red-500"},Je={class:"space-y-2"},Ke={key:0,class:"text-sm text-red-500"},We={class:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-600"},Xe=["disabled"],Ze=A({__name:"UserFormModal",props:{isOpen:{type:Boolean},user:{}},emits:["close","success"],setup(e,{emit:s}){const a=e,y=s,$=oe(()=>!!a.user),o=ae({name:"",username:"",email:"",mobile:"",password:"",password_confirmation:"",subscription_start_date:"",subscription_end_date:"",role:"admin"}),i=()=>{o.reset(),o.clearErrors(),y("close")},n=()=>{$.value&&a.user?o.post(z.update.url(a.user.id),{onSuccess:()=>{q.fire({title:"Success!",text:"User updated successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0}),i(),y("success")},onError:()=>{q.fire({title:"Error!",text:"Failed to update user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}}):o.post(z.store.url(),{onSuccess:()=>{q.fire({title:"Success!",text:"User created successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0}),i(),y("success")},onError:()=>{q.fire({title:"Error!",text:"Failed to create user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})};return de(()=>a.isOpen,F=>{F&&(a.user?(o.name=a.user.name,o.username=a.user.username||"",o.email=a.user.email,o.mobile=a.user.mobile||"",o.password="",o.password_confirmation="",o.subscription_start_date=a.user.subscription_start_date?new Date(a.user.subscription_start_date).toISOString().split("T")[0]:"",o.subscription_end_date=a.user.subscription_end_date?new Date(a.user.subscription_end_date).toISOString().split("T")[0]:"",o.role="admin"):(o.reset(),o.role="admin"),o.clearErrors())}),(F,d)=>F.isOpen?(c(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"rgba(0, 0, 0, 0.4)"},onClick:H(i,["self"])},[t("div",Ee,[t("div",Ue,[t("div",Se,[t("h2",Be,u($.value?"Edit User":"Create New User"),1),t("button",{onClick:i,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...d[8]||(d[8]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:H(n,["prevent"]),class:"space-y-6"},[t("div",Ae,[t("div",je,[d[9]||(d[9]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name * ",-1)),j(t("input",{id:"name","onUpdate:modelValue":d[0]||(d[0]=b=>r(o).name=b),type:"text",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.name}])},null,2),[[D,r(o).name]]),r(o).errors.name?(c(),p("p",De,u(r(o).errors.name),1)):_("",!0)]),t("div",qe,[d[10]||(d[10]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Username * ",-1)),j(t("input",{id:"username","onUpdate:modelValue":d[1]||(d[1]=b=>r(o).username=b),type:"text",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.username}])},null,2),[[D,r(o).username]]),r(o).errors.username?(c(),p("p",Me,u(r(o).errors.username),1)):_("",!0)]),t("div",Te,[d[11]||(d[11]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email * ",-1)),j(t("input",{id:"email","onUpdate:modelValue":d[2]||(d[2]=b=>r(o).email=b),type:"email",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.email}])},null,2),[[D,r(o).email]]),r(o).errors.email?(c(),p("p",Qe,u(r(o).errors.email),1)):_("",!0)]),t("div",Ve,[d[12]||(d[12]=t("label",{for:"mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mobile ",-1)),j(t("input",{id:"mobile","onUpdate:modelValue":d[3]||(d[3]=b=>r(o).mobile=b),type:"tel",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.mobile}])},null,2),[[D,r(o).mobile]]),r(o).errors.mobile?(c(),p("p",Fe,u(r(o).errors.mobile),1)):_("",!0)]),t("div",Pe,[t("label",Oe," Password "+u($.value?"(leave blank to keep current)":"*"),1),j(t("input",{id:"password","onUpdate:modelValue":d[4]||(d[4]=b=>r(o).password=b),type:"password",required:!$.value,class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.password}])},null,10,Ne),[[D,r(o).password]]),r(o).errors.password?(c(),p("p",Ie,u(r(o).errors.password),1)):_("",!0)]),t("div",Le,[t("label",He," Confirm Password "+u($.value?"":"*"),1),j(t("input",{id:"password_confirmation","onUpdate:modelValue":d[5]||(d[5]=b=>r(o).password_confirmation=b),type:"password",required:!$.value,class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.password_confirmation}])},null,10,ze),[[D,r(o).password_confirmation]]),r(o).errors.password_confirmation?(c(),p("p",Re,u(r(o).errors.password_confirmation),1)):_("",!0)]),t("div",Ye,[d[13]||(d[13]=t("label",{for:"subscription_start_date",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Subscription Start Date * ",-1)),j(t("input",{id:"subscription_start_date","onUpdate:modelValue":d[6]||(d[6]=b=>r(o).subscription_start_date=b),type:"date",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.subscription_start_date}])},null,2),[[D,r(o).subscription_start_date]]),r(o).errors.subscription_start_date?(c(),p("p",Ge,u(r(o).errors.subscription_start_date),1)):_("",!0)]),t("div",Je,[d[14]||(d[14]=t("label",{for:"subscription_end_date",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Subscription End Date * ",-1)),j(t("input",{id:"subscription_end_date","onUpdate:modelValue":d[7]||(d[7]=b=>r(o).subscription_end_date=b),type:"date",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",{"border-red-500":r(o).errors.subscription_end_date}])},null,2),[[D,r(o).subscription_end_date]]),r(o).errors.subscription_end_date?(c(),p("p",Ke,u(r(o).errors.subscription_end_date),1)):_("",!0)])]),t("div",We,[t("button",{type:"button",onClick:i,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Cancel "),t("button",{type:"submit",disabled:r(o).processing,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"},u(r(o).processing?$.value?"Updating...":"Creating...":$.value?"Update User":"Create User"),9,Xe)])],32)])])])):_("",!0)}}),et={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},tt={class:"p-6"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},st={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},ot={class:"space-y-4"},at={class:"text-sm text-gray-900 dark:text-white"},dt={class:"text-sm text-gray-900 dark:text-white"},lt={class:"text-sm text-gray-900 dark:text-white"},nt={class:"text-sm text-gray-900 dark:text-white"},it={class:"mt-1"},ut={class:"text-sm text-gray-900 dark:text-white"},mt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},ct={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},pt={class:"space-y-4"},ft={key:0},yt={class:"text-sm text-gray-900 dark:text-white"},bt={key:1},gt={class:"text-sm text-gray-900 dark:text-white"},_t={key:2},xt=A({__name:"ViewUserModal",props:{isOpen:{type:Boolean},user:{}},emits:["close"],setup(e,{emit:s}){const a=s,y=()=>{a("close")},$=i=>new Date(i).toLocaleDateString(),o=i=>{switch(i){case"super_admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"admin":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"user":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return(i,n)=>i.isOpen&&i.user?(c(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"rgba(0, 0, 0, 0.4)"},onClick:H(y,["self"])},[t("div",et,[t("div",tt,[t("div",{class:"flex items-center justify-between mb-6"},[n[1]||(n[1]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"User Details",-1)),t("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...n[0]||(n[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",rt,[t("div",st,[n[8]||(n[8]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Basic Information",-1)),t("div",ot,[t("div",null,[n[2]||(n[2]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Name",-1)),t("p",at,u(i.user.name),1)]),t("div",null,[n[3]||(n[3]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),t("p",dt,u(i.user.email),1)]),t("div",null,[n[4]||(n[4]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Username",-1)),t("p",lt,u(i.user.username||"Not set"),1)]),t("div",null,[n[5]||(n[5]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Mobile",-1)),t("p",nt,u(i.user.mobile||"Not set"),1)]),t("div",null,[n[6]||(n[6]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Role",-1)),t("div",it,[t("span",{class:x(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(i.user.role)])},u(i.user.role.replace("_"," ").toUpperCase()),3)])]),t("div",null,[n[7]||(n[7]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Templates Created",-1)),t("p",ut,[t("span",mt,u(i.user.templates_count||0)+" templates ",1)])])])]),t("div",ct,[n[12]||(n[12]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Subscription Information",-1)),t("div",pt,[i.user.subscription_start_date&&i.user.subscription_end_date?(c(),p("div",ft,[n[9]||(n[9]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Start Date",-1)),t("p",yt,u($(i.user.subscription_start_date)),1)])):_("",!0),i.user.subscription_start_date&&i.user.subscription_end_date?(c(),p("div",bt,[n[10]||(n[10]=t("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"End Date",-1)),t("p",gt,u($(i.user.subscription_end_date)),1)])):_("",!0),!i.user.subscription_start_date||!i.user.subscription_end_date?(c(),p("div",_t,[...n[11]||(n[11]=[t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No subscription information available",-1)])])):_("",!0)])])])])])])):_("",!0)}}),ht={class:"space-y-6 p-5"},kt={class:"flex items-center justify-between"},wt={class:"rounded-md border"},vt={key:0,class:"text-sm"},$t={key:1,class:"text-muted-foreground"},Ct={key:0,class:"flex items-center justify-between"},Et={class:"text-sm text-muted-foreground"},Ht=A({__name:"Index",props:{users:{}},setup(e){const s=N(!1),a=N(!1),y=N(null),$=[{title:"User Management",href:"/users"}],o=g=>new Date(g).toLocaleDateString(),i=()=>{y.value=null,s.value=!0},n=g=>{y.value=g,s.value=!0},F=g=>{y.value=g,a.value=!0},d=g=>{q.fire({title:"Are you sure?",text:`You are about to delete ${g.name}. This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(f=>{f.isConfirmed&&W.delete(z.destroy.url(g.id),{onSuccess:()=>{q.fire({title:"Deleted!",text:"User has been deleted successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})},onError:()=>{q.fire({title:"Error!",text:"Failed to delete user. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})})},b=()=>{s.value=!1,a.value=!1,y.value=null},se=()=>{W.reload()};return(g,f)=>(c(),I(fe,{breadcrumbs:$},{default:m(()=>[l(r(le),{title:"User Management"}),t("div",ht,[t("div",kt,[f[1]||(f[1]=t("div",null,[t("h1",{class:"text-2xl font-bold tracking-tight"},"User Management"),t("p",{class:"text-muted-foreground"}," Manage users and their roles in the system. ")],-1)),l(r(X),{onClick:i},{default:m(()=>[l(r(ye),{class:"mr-2 h-4 w-4"}),f[0]||(f[0]=E(" Add User ",-1))]),_:1})]),t("div",wt,[l(r(ve),null,{default:m(()=>[l(r(Ce),null,{default:m(()=>[l(r(Z),null,{default:m(()=>[l(r(Q),null,{default:m(()=>[...f[2]||(f[2]=[E("Name",-1)])]),_:1}),l(r(Q),null,{default:m(()=>[...f[3]||(f[3]=[E("Email",-1)])]),_:1}),l(r(Q),null,{default:m(()=>[...f[4]||(f[4]=[E("Username",-1)])]),_:1}),l(r(Q),null,{default:m(()=>[...f[5]||(f[5]=[E("Subscription",-1)])]),_:1}),l(r(Q),null,{default:m(()=>[...f[6]||(f[6]=[E("Templates",-1)])]),_:1}),l(r(Q),{class:"w-[50px]"})]),_:1})]),_:1}),l(r($e),null,{default:m(()=>[(c(!0),p(ne,null,ie(g.users.data,C=>(c(),I(r(Z),{key:C.id},{default:m(()=>[l(r(T),{class:"font-medium"},{default:m(()=>[E(u(C.name),1)]),_:2},1024),l(r(T),null,{default:m(()=>[E(u(C.email),1)]),_:2},1024),l(r(T),null,{default:m(()=>[E(u(C.username||"-"),1)]),_:2},1024),l(r(T),null,{default:m(()=>[C.subscription_start_date&&C.subscription_end_date?(c(),p("div",vt,[t("div",null,"Start: "+u(o(C.subscription_start_date)),1),t("div",null,"End: "+u(o(C.subscription_end_date)),1)])):(c(),p("span",$t,"No subscription"))]),_:2},1024),l(r(T),null,{default:m(()=>[l(r(ue),{variant:"secondary"},{default:m(()=>[E(u(C.templates_count||0)+" templates ",1)]),_:2},1024)]),_:2},1024),l(r(T),null,{default:m(()=>[l(r(me),null,{default:m(()=>[l(r(ce),{"as-child":""},{default:m(()=>[l(r(X),{variant:"ghost",class:"h-8 w-8 p-0"},{default:m(()=>[l(r(he),{class:"h-4 w-4"})]),_:1})]),_:1}),l(r(pe),{align:"end"},{default:m(()=>[l(r(L),{onClick:K=>F(C)},{default:m(()=>[l(r(ge),{class:"mr-2 h-4 w-4"}),f[7]||(f[7]=E(" View ",-1))]),_:1},8,["onClick"]),l(r(L),{onClick:K=>n(C)},{default:m(()=>[l(r(_e),{class:"mr-2 h-4 w-4"}),f[8]||(f[8]=E(" Edit ",-1))]),_:1},8,["onClick"]),C.role!=="super_admin"?(c(),I(r(L),{key:0,onClick:K=>d(C),class:"text-destructive"},{default:m(()=>[l(r(xe),{class:"mr-2 h-4 w-4"}),f[9]||(f[9]=E(" Delete ",-1))]),_:1},8,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),g.users.last_page>1?(c(),p("div",Ct,[t("div",Et," Showing "+u((g.users.current_page-1)*g.users.per_page+1)+" to "+u(Math.min(g.users.current_page*g.users.per_page,g.users.total))+" of "+u(g.users.total)+" results ",1)])):_("",!0)]),l(Ze,{"is-open":s.value,user:y.value,onClose:b,onSuccess:se},null,8,["is-open","user"]),l(xt,{"is-open":a.value,user:y.value,onClose:b},null,8,["is-open","user"])]),_:1}))}});export{Ht as default};
