import{t as u,_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cy-AdZrj.js";import{d as E,C as P,c as l,o as a,a as o,u as r,h as $,w as m,b as t,l as x,e as d,F as v,r as D,t as n,y as N,j as _,m as V,k as z}from"./app-CPkTNRAv.js";import{d as F}from"./index-4Ns3tNZl.js";import{S as c}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{P as h}from"./plus-bMDoE7lj.js";import{S as I}from"./square-pen-Zhu0vtC-.js";import{S as M}from"./share-2-CMiaG4rW.js";import{T as A}from"./trash-2-BXdk3lKB.js";import"./Primitive-DH7xCY9-.js";import"./useForwardExpose-B-INNZnY.js";import"./VisuallyHidden-B2Z-BN5e.js";import"./RovingFocusGroup-CApkqABK.js";import"./createLucideIcon-CczK8UKw.js";import"./image-DgaKoPRg.js";import"./useArrowNavigation-C6Y-ieo6.js";const L={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},H={class:"flex items-center justify-between"},K={key:0,class:"flex flex-1 items-center justify-center"},O={class:"text-center"},U={class:"mx-auto h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-4"},Y={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},q={class:"relative"},G={class:"h-48 w-full bg-gray-100 dark:bg-gray-700 rounded-t-lg overflow-hidden"},J=["src","alt"],Q={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100"},R={class:"text-center"},W={class:"text-sm text-gray-600"},X={class:"absolute top-3 right-3"},Z={class:"p-4"},ee={class:"mb-3"},te={class:"text-lg font-semibold text-gray-900 dark:text-white mb-1"},se={key:0,class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},re={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4"},oe={class:"flex items-center gap-1"},ae={class:"flex gap-2"},ie={class:"flex gap-2 mt-2"},le=["onClick"],ne=["onClick"],Ce=E({__name:"Index",props:{templates:{}},setup(w){const k=[{title:"Dashboard",href:F().url},{title:"Templates",href:u.index().url}],g=w,C=i=>{c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(e=>{e.isConfirmed&&z.delete(u.destroy(i),{onSuccess:()=>{c.fire({title:"Deleted!",text:"Template has been deleted successfully.",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})},onError:()=>{c.fire({title:"Error!",text:"Failed to delete template. Please try again.",icon:"error",position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,toast:!0})}})})},B=i=>`/templates/${i}/edit`,T=i=>{const e=`${window.location.origin}/template/${i}`;navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{b()}).catch(()=>{p(e)}):p(e)},p=i=>{const e=document.createElement("textarea");e.value=i,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")?b():y()}catch{y()}finally{document.body.removeChild(e)}},b=()=>{c.fire({title:"Copied!",text:"Share link copied to clipboard!",icon:"success",confirmButtonText:"OK",timer:2e3,timerProgressBar:!0})},y=()=>{c.fire({title:"Error!",text:"Failed to copy link. Please try again.",icon:"error",confirmButtonText:"OK"})};return(i,e)=>{const f=P("Image");return a(),l(v,null,[o(r($),{title:"Templates"}),o(j,{breadcrumbs:k},{default:m(()=>[t("div",L,[t("div",H,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Templates"),t("p",{class:"text-gray-600 dark:text-gray-400"},"Manage your image templates")],-1)),o(r(x),{href:r(u).create(),class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"},{default:m(()=>[o(r(h),{class:"h-4 w-4"}),e[0]||(e[0]=d(" Create Template ",-1))]),_:1},8,["href"])]),!g.templates||g.templates.length===0?(a(),l("div",K,[t("div",O,[t("div",U,[o(r(h),{class:"h-6 w-6 text-gray-400"})]),e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"No templates yet",-1)),e[4]||(e[4]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"Get started by creating your first template.",-1)),o(r(x),{href:r(u).create(),class:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"},{default:m(()=>[o(r(h),{class:"h-4 w-4"}),e[2]||(e[2]=d(" Create Template ",-1))]),_:1},8,["href"])])])):(a(),l("div",Y,[(a(!0),l(v,null,D(g.templates,s=>(a(),l("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow"},[t("div",q,[t("div",G,[s.background_image?(a(),l("img",{key:0,src:`/storage/${s.background_image}`,alt:s.name,class:"w-full h-full object-cover"},null,8,J)):(a(),l("div",Q,[t("div",R,[o(f,{class:"w-12 h-12 mx-auto mb-2 text-gray-400"}),t("p",W,n(s.width)+"x"+n(s.height),1)])]))]),t("div",X,[t("span",{class:N([s.is_active?"bg-green-500":"bg-gray-400","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white"])},n(s.is_active?"Active":"Inactive"),3)])]),t("div",Z,[t("div",ee,[t("h3",te,n(s.name),1),s.description?(a(),l("p",se,n(s.description),1)):_("",!0)]),t("div",re,[t("div",oe,[e[5]||(e[5]=t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)),t("span",null,n(s.width)+"Ã—"+n(s.height),1)]),t("span",null,n(new Date(s.created_at).toLocaleDateString()),1)]),t("div",ae,[s.id?(a(),V(r(x),{key:0,href:B(s.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},{default:m(()=>[o(r(I),{class:"h-4 w-4"}),e[6]||(e[6]=d(" Edit ",-1))]),_:1},8,["href"])):_("",!0)]),t("div",ie,[t("button",{onClick:S=>T(s.share_token),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900 rounded-lg hover:bg-green-200 dark:hover:bg-green-800 transition-colors"},[o(r(M),{class:"h-4 w-4"}),e[7]||(e[7]=d(" Share ",-1))],8,le),t("button",{onClick:S=>C(s.id),class:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors"},[o(r(A),{class:"h-4 w-4"}),e[8]||(e[8]=d(" Delete ",-1))],8,ne)])])]))),128))]))])]),_:1})],64)}}});export{Ce as default};
